{"version":3,"file":"drag-scroll.js","sources":["../src/DragScroll.js"],"sourcesContent":["export default class DragScroll {\n\tconstructor ({el}) {\n\n\t\tif(!el) return false;\n\n\t\tthis._window = window;\n\t\tthis._document = document;\n\t\tthis.mouseDown = false;\n\t\tthis.lastClientX = 0;\n\t\tthis.lastClientY = 0;\n\t\tthis.newScrollX = 0;\n\t\tthis.newScrollY = 0;\n\t\tthis.el = el;\n\n\t\tthis.destroy();\n\t\tthis.init();\n\t}\n\n\tinit (el, lastClientX, lastClientY, mouseDown, cont, scroller) {\n\t\tthis.el.addEventListener('mousedown', this.el.md = (e) => {\n\t\t\tif (e.target.closest('[nodrag]')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.el.hasAttribute('nochilddrag') ||\n\t\t\t\tthis._document.elementFromPoint(\n\t\t\t\t\te.pageX, e.pageY\n\t\t\t\t) === this.el\n\t\t\t) {\n\t\t\t\tthis.mouseDown = true;\n\t\t\t\tthis.lastClientX = e.clientX;\n\t\t\t\tthis.lastClientY = e.clientY;\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t});\n\n\t\tthis._window.addEventListener('mousemove', this.el.mm = (e) => {\n\t\t\tif(this.mouseDown) {\n\t\t\t\t(scroller = this.el.scroller||this.el).scrollLeft -=\n\t\t\t\t\tthis.newScrollX = (- this.lastClientX + (this.lastClientX = e.clientX));\n\n\t\t\t\tscroller.scrollTop -=\n\t\t\t\t\tthis.newScrollY = (- this.lastClientY + (this.lastClientY = e.clientY));\n\t\t\t}\n\t\t}, 0);\n\n\t\tthis._window.addEventListener('mouseup', this.el.mu = () => {\n\t\t\tthis.mouseDown = false\n\t\t}, 0);\n\t}\n\n\tdestroy () {\n\t\tthis.el.removeEventListener('mousedown', this.el.md, 0);\n\t\tthis._window.removeEventListener('mousemove', this.el.mm, 0);\n\t\tthis._window.removeEventListener('mouseup', this.el.mu, 0);\n\t}\n}"],"names":["DragScroll","el","_window","window","_document","document","mouseDown","lastClientX","lastClientY","newScrollX","newScrollY","destroy","init","cont","scroller","addEventListener","md","e","target","closest","hasAttribute","elementFromPoint","pageX","pageY","clientX","clientY","preventDefault","mm","scrollLeft","scrollTop","mu","removeEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;MAAqBA;;;EACpB,4BAAmB;EAAA,QAALC,EAAK,QAALA,EAAK;;EAAA;;EAElB,QAAG,CAACA,EAAJ,EAAQ,OAAO,KAAP;EAER,SAAKC,OAAL,GAAeC,MAAf;EACA,SAAKC,SAAL,GAAiBC,QAAjB;EACA,SAAKC,SAAL,GAAiB,KAAjB;EACA,SAAKC,WAAL,GAAmB,CAAnB;EACA,SAAKC,WAAL,GAAmB,CAAnB;EACA,SAAKC,UAAL,GAAkB,CAAlB;EACA,SAAKC,UAAL,GAAkB,CAAlB;EACA,SAAKT,EAAL,GAAUA,EAAV;EAEA,SAAKU,OAAL;EACA,SAAKC,IAAL;EACA;;;;2BAEKX,IAAIM,aAAaC,aAAaF,WAAWO,MAAMC,UAAU;EAAA;;EAC9D,WAAKb,EAAL,CAAQc,gBAAR,CAAyB,WAAzB,EAAsC,KAAKd,EAAL,CAAQe,EAAR,GAAa,UAACC,CAAD,EAAO;EACzD,YAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiB,UAAjB,CAAJ,EAAkC;EACjC,iBAAO,KAAP;EACA;;EAED,YAAI,CAAC,KAAI,CAAClB,EAAL,CAAQmB,YAAR,CAAqB,aAArB,CAAD,IACH,KAAI,CAAChB,SAAL,CAAeiB,gBAAf,CACCJ,CAAC,CAACK,KADH,EACUL,CAAC,CAACM,KADZ,MAEM,KAAI,CAACtB,EAHZ,EAIE;EACD,UAAA,KAAI,CAACK,SAAL,GAAiB,IAAjB;EACA,UAAA,KAAI,CAACC,WAAL,GAAmBU,CAAC,CAACO,OAArB;EACA,UAAA,KAAI,CAAChB,WAAL,GAAmBS,CAAC,CAACQ,OAArB;EACAR,UAAAA,CAAC,CAACS,cAAF;EACA;EAED,OAhBD;;EAkBA,WAAKxB,OAAL,CAAaa,gBAAb,CAA8B,WAA9B,EAA2C,KAAKd,EAAL,CAAQ0B,EAAR,GAAa,UAACV,CAAD,EAAO;EAC9D,YAAG,KAAI,CAACX,SAAR,EAAmB;EAClB,WAACQ,QAAQ,GAAG,KAAI,CAACb,EAAL,CAAQa,QAAR,IAAkB,KAAI,CAACb,EAAnC,EAAuC2B,UAAvC,IACC,KAAI,CAACnB,UAAL,GAAmB,CAAE,KAAI,CAACF,WAAP,IAAsB,KAAI,CAACA,WAAL,GAAmBU,CAAC,CAACO,OAA3C,CADpB;EAGAV,UAAAA,QAAQ,CAACe,SAAT,IACC,KAAI,CAACnB,UAAL,GAAmB,CAAE,KAAI,CAACF,WAAP,IAAsB,KAAI,CAACA,WAAL,GAAmBS,CAAC,CAACQ,OAA3C,CADpB;EAEA;EACD,OARD,EAQG,CARH;;EAUA,WAAKvB,OAAL,CAAaa,gBAAb,CAA8B,SAA9B,EAAyC,KAAKd,EAAL,CAAQ6B,EAAR,GAAa,YAAM;EAC3D,QAAA,KAAI,CAACxB,SAAL,GAAiB,KAAjB;EACA,OAFD,EAEG,CAFH;EAGA;;;gCAEU;EACV,WAAKL,EAAL,CAAQ8B,mBAAR,CAA4B,WAA5B,EAAyC,KAAK9B,EAAL,CAAQe,EAAjD,EAAqD,CAArD;;EACA,WAAKd,OAAL,CAAa6B,mBAAb,CAAiC,WAAjC,EAA8C,KAAK9B,EAAL,CAAQ0B,EAAtD,EAA0D,CAA1D;;EACA,WAAKzB,OAAL,CAAa6B,mBAAb,CAAiC,SAAjC,EAA4C,KAAK9B,EAAL,CAAQ6B,EAApD,EAAwD,CAAxD;EACA;;;;;;;;;;;;"}