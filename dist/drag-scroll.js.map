{"version":3,"file":"drag-scroll.js","sources":["../src/DragScroll.js"],"sourcesContent":["export default class DragScroll {\n    constructor({el}) {\n\n        if (!el) return false;\n\n        this._window = window;\n        this._document = document;\n        this.mouseDown = false;\n        this.lastClientX = 0;\n        this.lastClientY = 0;\n        this.newScrollX = 0;\n        this.newScrollY = 0;\n        this.el = el;\n\n        this.destroy();\n        this.init();\n    }\n\n    init(el, lastClientX, lastClientY, mouseDown, cont, scroller) {\n        this.el.addEventListener('mousedown', this.el.md = (e) => {\n            if (e.target.closest('[nodrag]')) {\n                return false;\n            }\n\n            if (!this.el.hasAttribute('nodrag') ||\n                this._document.elementFromPoint(\n                    e.pageX, e.pageY\n                ) === this.el\n            ) {\n                this.mouseDown = true;\n                this.lastClientX = e.clientX;\n                this.lastClientY = e.clientY;\n                e.preventDefault();\n            }\n\n        });\n\n        this._window.addEventListener('mousemove', this.el.mm = (e) => {\n            if (this.mouseDown) {\n                (scroller = this.el.scroller || this.el).scrollLeft -=\n                    this.newScrollX = (-this.lastClientX + (this.lastClientX = e.clientX));\n\n                scroller.scrollTop -=\n                    this.newScrollY = (-this.lastClientY + (this.lastClientY = e.clientY));\n            }\n        }, 0);\n\n        this._window.addEventListener('mouseup', this.el.mu = () => {\n            this.mouseDown = false\n        }, 0);\n    }\n\n    destroy() {\n        this.el.removeEventListener('mousedown', this.el.md, 0);\n        this._window.removeEventListener('mousemove', this.el.mm, 0);\n        this._window.removeEventListener('mouseup', this.el.mu, 0);\n    }\n}"],"names":["DragScroll","el","_window","window","_document","document","mouseDown","lastClientX","lastClientY","newScrollX","newScrollY","destroy","init","cont","scroller","addEventListener","md","e","target","closest","hasAttribute","elementFromPoint","pageX","pageY","clientX","clientY","preventDefault","mm","scrollLeft","scrollTop","mu","removeEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;MAAqBA;;;EACjB,4BAAkB;EAAA,QAALC,EAAK,QAALA,EAAK;;EAAA;;EAEd,QAAI,CAACA,EAAL,EAAS,OAAO,KAAP;EAET,SAAKC,OAAL,GAAeC,MAAf;EACA,SAAKC,SAAL,GAAiBC,QAAjB;EACA,SAAKC,SAAL,GAAiB,KAAjB;EACA,SAAKC,WAAL,GAAmB,CAAnB;EACA,SAAKC,WAAL,GAAmB,CAAnB;EACA,SAAKC,UAAL,GAAkB,CAAlB;EACA,SAAKC,UAAL,GAAkB,CAAlB;EACA,SAAKT,EAAL,GAAUA,EAAV;EAEA,SAAKU,OAAL;EACA,SAAKC,IAAL;EACH;;;;2BAEIX,IAAIM,aAAaC,aAAaF,WAAWO,MAAMC,UAAU;EAAA;;EAC1D,WAAKb,EAAL,CAAQc,gBAAR,CAAyB,WAAzB,EAAsC,KAAKd,EAAL,CAAQe,EAAR,GAAa,UAACC,CAAD,EAAO;EACtD,YAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiB,UAAjB,CAAJ,EAAkC;EAC9B,iBAAO,KAAP;EACH;;EAED,YAAI,CAAC,KAAI,CAAClB,EAAL,CAAQmB,YAAR,CAAqB,QAArB,CAAD,IACA,KAAI,CAAChB,SAAL,CAAeiB,gBAAf,CACIJ,CAAC,CAACK,KADN,EACaL,CAAC,CAACM,KADf,MAEM,KAAI,CAACtB,EAHf,EAIE;EACE,UAAA,KAAI,CAACK,SAAL,GAAiB,IAAjB;EACA,UAAA,KAAI,CAACC,WAAL,GAAmBU,CAAC,CAACO,OAArB;EACA,UAAA,KAAI,CAAChB,WAAL,GAAmBS,CAAC,CAACQ,OAArB;EACAR,UAAAA,CAAC,CAACS,cAAF;EACH;EAEJ,OAhBD;;EAkBA,WAAKxB,OAAL,CAAaa,gBAAb,CAA8B,WAA9B,EAA2C,KAAKd,EAAL,CAAQ0B,EAAR,GAAa,UAACV,CAAD,EAAO;EAC3D,YAAI,KAAI,CAACX,SAAT,EAAoB;EAChB,WAACQ,QAAQ,GAAG,KAAI,CAACb,EAAL,CAAQa,QAAR,IAAoB,KAAI,CAACb,EAArC,EAAyC2B,UAAzC,IACI,KAAI,CAACnB,UAAL,GAAmB,CAAC,KAAI,CAACF,WAAN,IAAqB,KAAI,CAACA,WAAL,GAAmBU,CAAC,CAACO,OAA1C,CADvB;EAGAV,UAAAA,QAAQ,CAACe,SAAT,IACI,KAAI,CAACnB,UAAL,GAAmB,CAAC,KAAI,CAACF,WAAN,IAAqB,KAAI,CAACA,WAAL,GAAmBS,CAAC,CAACQ,OAA1C,CADvB;EAEH;EACJ,OARD,EAQG,CARH;;EAUA,WAAKvB,OAAL,CAAaa,gBAAb,CAA8B,SAA9B,EAAyC,KAAKd,EAAL,CAAQ6B,EAAR,GAAa,YAAM;EACxD,QAAA,KAAI,CAACxB,SAAL,GAAiB,KAAjB;EACH,OAFD,EAEG,CAFH;EAGH;;;gCAES;EACN,WAAKL,EAAL,CAAQ8B,mBAAR,CAA4B,WAA5B,EAAyC,KAAK9B,EAAL,CAAQe,EAAjD,EAAqD,CAArD;;EACA,WAAKd,OAAL,CAAa6B,mBAAb,CAAiC,WAAjC,EAA8C,KAAK9B,EAAL,CAAQ0B,EAAtD,EAA0D,CAA1D;;EACA,WAAKzB,OAAL,CAAa6B,mBAAb,CAAiC,SAAjC,EAA4C,KAAK9B,EAAL,CAAQ6B,EAApD,EAAwD,CAAxD;EACH;;;;;;;;;;;;"}